import{d as f,u as d,c as e,bq as h}from"./index.ccaa682a.js";import{_ as m}from"./lodash.02988b15.js";import{f as g}from"./common.0c468cf3.js";import{i as w,j as y}from"./index.97c7c8f2.js";import{F as b}from"./FormOutlined.bdfa4274.js";import{E as F}from"./EditOutlined.84f6aa5d.js";import{D as N}from"./DownloadOutlined.e1724915.js";import{I as R}from"./InfoCircleFilled.bb7f9c24.js";import{D}from"./DeleteOutlined.b64cb1c2.js";import{N as l}from"./Tooltip.14e7654c.js";import{N as n}from"./Button.3394f0e3.js";import{N as o}from"./Icon.808259cb.js";import{N as v}from"./Popconfirm.b8629776.js";import{N as x}from"./Space.f435ce00.js";import"./SettingOutlined.675e55ec.js";import"./PauseCircleOutlined.f81cacab.js";import"./CloseCircleOutlined.7f4d3411.js";import"./CheckCircleOutlined.b6132804.js";import"./index.15a20265.js";import"./service.ae1ed8a7.js";import"./Popover.b48d5d17.js";import"./index.99c68204.js";import"./flatten.995f807f.js";import"./Scrollbar.0dc514b7.js";import"./fade-in.cssr.ac08f6bb.js";import"./VResizeObserver.c3d2397d.js";import"./utils.381519a7.js";import"./format-length.a0cbed4d.js";import"./resolve-slot.d8d7b3cb.js";import"./use-compitable.d1fd83c6.js";import"./next-frame-once.e5ee25e8.js";import"./is-browser.f4bc45cf.js";import"./use-rtl.d43d8217.js";import"./use-locale.ca4c738c.js";import"./keysOf.10525521.js";import"./get-slot.7f666ba0.js";import"./index.7a579f81.js";const C={show:{type:Boolean,default:!1},row:{type:Object,default:{id:-1,name:"",description:""}}},he=f({name:"TableAction",props:C,emits:["updateList","renameResource"],setup(t,{emit:r}){const{t:u}=d(),p=h();return{t:u,rtDisb:(i,s)=>{const a=i.lastIndexOf("."),c=i.substring(a,i.length);return!(m.includes(g,m.trimStart(c,"."))&&s<1e6)},handleEditFile:i=>{p.push({name:"resource-file-edit",params:{id:i.id}})},handleDeleteFile:i=>{w(i).then(()=>r("updateList"))},handleRenameFile:(i,s,a)=>{r("renameResource",i,s,a)},...t}},render(){const{t}=d();return e(x,null,{default:()=>[e(l,{trigger:"hover"},{default:()=>t("resource.file.edit"),trigger:()=>e(n,{size:"tiny",type:"info",disabled:this.rtDisb(this.row.name,this.row.size),tag:"div",onClick:()=>{this.handleEditFile(this.row)},style:{marginRight:"-5px"},circle:!0,class:"btn-edit"},{default:()=>[e(o,null,{default:()=>[e(b,null,null)]})]})}),e(l,{trigger:"hover"},{default:()=>t("resource.file.rename"),trigger:()=>e(n,{size:"tiny",type:"info",onClick:()=>this.handleRenameFile(this.row.id,this.row.name,this.row.description),style:{marginRight:"-5px"},circle:!0,class:"btn-rename"},{default:()=>[e(o,null,{default:()=>[e(F,null,null)]})]})}),e(l,{trigger:"hover"},{default:()=>t("resource.file.download"),trigger:()=>{var r;return e(n,{size:"tiny",type:"info",disabled:!!((r=this.row)!=null&&r.directory),tag:"div",circle:!0,style:{marginRight:"-5px"},onClick:()=>y(this.row.id),class:"btn-download"},{default:()=>[e(o,null,{default:()=>[e(N,null,null)]})]})}}),e(l,{trigger:"hover"},{default:()=>t("resource.file.delete"),trigger:()=>e(n,{size:"tiny",type:"error",circle:!0,class:"btn-delete"},{default:()=>[e(v,{"positive-text":t("resource.file.confirm"),"negative-text":t("resource.file.cancel"),onPositiveClick:()=>{this.handleDeleteFile(this.row.id)}},{default:()=>t("resource.file.delete_confirm"),icon:()=>e(o,null,{default:()=>[e(R,null,null)]}),trigger:()=>e(o,null,{default:()=>[e(D,null,null)]})})]})})]})}});export{he as default};
