import{u,b5 as f,a as l,d as c,e as d,at as y,ba as g,c as e}from"./index.ccaa682a.js";import{M as v}from"./index.c665300e.js";import{m as h}from"./index.22db9fb0.js";import{N as D}from"./Form.b41344c3.js";import{N as _}from"./FormItem.6b297844.js";import{N as C}from"./Input.f12e0137.js";import"./index.c1fd473c.js";import"./Button.3394f0e3.js";import"./is-browser.f4bc45cf.js";import"./use-rtl.d43d8217.js";import"./resolve-slot.d8d7b3cb.js";import"./keysOf.10525521.js";import"./Card.915ef7d2.js";import"./index.7a579f81.js";import"./index.99c68204.js";import"./flatten.995f807f.js";import"./Scrollbar.0dc514b7.js";import"./fade-in.cssr.ac08f6bb.js";import"./VResizeObserver.c3d2397d.js";import"./fade-in-scale-up.cssr.5995d390.js";import"./utils.381519a7.js";import"./Space.f435ce00.js";import"./get-slot.7f666ba0.js";import"./service.ae1ed8a7.js";import"./lodash.02988b15.js";import"./format-length.a0cbed4d.js";import"./use-locale.ca4c738c.js";import"./Suffix.584d00eb.js";function I(){const{t}=u(),o=f({formRef:l(),formData:{queueId:0,priority:0},saving:!1,rules:{priority:{required:!0,trigger:["input","blur"],validator(){if(!(o.formData.priority+""&&o.formData.priority>=0))return new Error(t("resource.task_group_queue.priority_not_empty"))}}}});return{state:o,t}}const q={show:{type:Boolean,default:!1},data:{type:Object}},Z=c({name:"FormModal",props:q,emits:["confirm","cancel"],setup(t,{emit:o}){var m;const{state:r,t:a}=I();d(()=>{r.formData.queueId=t.data.queueId,r.formData.priority=t.data.priority});const i=async()=>{if(!r.saving){r.saving=!0;try{r.formData.priority+""&&(await h(r.formData),o("confirm")),r.saving=!1}catch{r.saving=!1}}},s=()=>{r.formData.priority=0,o("cancel")},n=(m=y())==null?void 0:m.appContext.config.globalProperties.trim;return{...g(r),t:a,onConfirm:i,onCancel:s,trim:n}},render(){const{t,onConfirm:o,onCancel:r,show:a}=this;return e(v,{title:t("resource.task_group_queue.edit_priority"),show:a,onConfirm:o,onCancel:r,confirmLoading:this.saving},{default:()=>[e(D,{rules:this.rules,ref:"formRef"},{default:()=>[e(_,{label:t("resource.task_group_queue.priority"),path:"priority"},{default:()=>[e(C,{allowInput:this.trim,value:this.formData.priority,"onUpdate:value":i=>this.formData.priority=i},null)]})]})]})}});export{Z as default};
