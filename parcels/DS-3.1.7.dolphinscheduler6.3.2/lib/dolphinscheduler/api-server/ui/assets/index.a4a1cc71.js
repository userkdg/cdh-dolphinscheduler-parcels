import{b5 as p,d as c,u,e as l,w as f,ba as d,c as n,bJ as k}from"./index.ccaa682a.js";import{C as h}from"./index.76253dc2.js";import w from"./gantt-chart.95ef2a08.js";import{u as D}from"./index.cb24df24.js";import{c as b}from"./index.40a25123.js";import"./Card.915ef7d2.js";import"./use-rtl.d43d8217.js";import"./resolve-slot.d8d7b3cb.js";import"./index.7a579f81.js";import"./keysOf.10525521.js";import"./lodash.02988b15.js";import"./index.b6b88472.js";import"./common.0c468cf3.js";import"./SettingOutlined.675e55ec.js";import"./PauseCircleOutlined.f81cacab.js";import"./CloseCircleOutlined.7f4d3411.js";import"./CheckCircleOutlined.b6132804.js";import"./EditOutlined.84f6aa5d.js";import"./index.15a20265.js";import"./service.ae1ed8a7.js";function G(){const t=p({seriesData:[],taskList:[]}),o=s=>{t.seriesData=[],t.taskList=[],t.seriesData=s.tasks.map(a=>(t.taskList.push(a.taskName),{name:a.taskName,...a}))};return{variables:t,getGantt:(s,a)=>{const{state:e}=D(b(s,a).then(r=>{o(r)}),{});return e}}}const E=c({name:"workflow-relation",setup(){const{t,locale:o}=u(),i=k(),{variables:s,getGantt:a}=G(),e=Number(i.params.id),r=Number(i.params.projectCode),m=()=>{s.seriesData=[],s.taskList=[],a(e,r)};return l(()=>{a(e,r)}),f(()=>[o.value],()=>{m()}),{t,...d(s)}},render(){const{t}=this;return n(h,{title:t("project.workflow.gantt")},{default:()=>this.seriesData.length>0&&n(w,{seriesData:this.seriesData,taskList:this.taskList},null)})}});export{E as default};
